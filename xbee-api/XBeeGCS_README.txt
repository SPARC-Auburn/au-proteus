XBeeGCS Readme
==============

The code written for the XBee Ground Control Station is available in xbee-api/com/GCS/xbee, and liberally uses Javadoc. The XBeeGCS's job is to conduct bidirectional communication with the XBees connected to ArduPilots in the UAVs.  To do this, it leverages the open source xbee-api by Andrew Rapp, and works in tandem with the modifications we made to the ArduPilot software.  The XBeeGCS can send new waypoints via the transmit() method, and receives telemetry data using a Packet Listener.  It stores all telemetry data in a hash map indexed by the address of the XBee radio sending the data.  

The XBeeGCS heavily uses the log4j system in conjunction with the xbee-api, and uses an EachLaunchFileAppender to create a new log file upon every launch.  These individual log files are stored in a log/ subdirectory of xbee-api/. There is also a master log, XBee.log, also within xbee-api/, that is constantly appended with logging results from both the XBeeGCS and different classes of xbee-api.  One can change these logging settings by editing the log4j.properties file inside xbee-api/.

The XBeeGCS also has a GUI that allows the loading of new waypoints by the user.  The waypoints taken in are of the conventional format "lat,lng,alt" e.g. "32.606501,-85.486937,206".  Please ensure that there are 6 digits after the decimal point of latitude and longitude and that each value is separated by a comma. A plane has to have sent valid telemetry data to the XBeeGCS first (i.e. have data on it in the hash map) before a waypoint can be sent to it.

If enabled, the XBeeGCS spawns a new thread running a collision avoidance algorithm. The current version of the algorithm thread waits until it is notified by the XBeeGCS thread of new data, then locks on the hash map and iterates through all available plane data, totaling repulsive vectors against the latest plane transmission. It also uses the destination as an attractive vector, sums all vectors to form a resultant vector coordinate. It then calls transmit() to send a new waypoint.  This algorithm nor threading model has been tested in the field though.
